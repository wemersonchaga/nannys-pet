<main class="signup-container">
  <section class="image-column"></section>

  <section class="form-column">
    <div class="form-wrapper">
      <h2>Cadastro de Cuidador</h2>
      <p class="subtitle">Complete seu perfil para começar a receber pets!</p>

      <form [formGroup]="cuidadorForm" (ngSubmit)="onSubmit()">
        <!-- Nome e Sobrenome -->
        <div class="form-row">
          <div class="form-group">
            <label for="nome">Nome</label>
            <input type="text" id="nome" formControlName="nome" required />
          </div>
          <div class="form-group">
            <label for="sobrenome">Sobrenome</label>
            <input type="text" id="sobrenome" formControlName="sobrenome" required />
          </div>
        </div>

        <!-- CPF e Email -->
        <div class="form-row">
          <div class="form-group">
            <label for="cpf">CPF</label>
            <input type="text" id="cpf" formControlName="cpf" mask="000.000.000-00" required />
          </div>
          <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" formControlName="email" />
          </div>
        </div>

        <!-- Telefone e Data de Nascimento -->
        <div class="form-row">
          <div class="form-group">
            <label for="telefone">Telefone</label>
            <input type="text" id="telefone" formControlName="telefone" mask="(00) 00000-0000" required />
          </div>
          <div class="form-group">
            <label for="dataNascimento">Data de Nascimento</label>
            <input type="date" id="dataNascimento" formControlName="data_nascimento" />
          </div>
        </div>

        <!-- Instagram -->
        <div class="form-row">
          <div class="form-group">
            <label for="instagram">Instagram</label>
            <input type="text" id="instagram" formControlName="instagram" placeholder="@seuperfil" />
          </div>
        </div>

        <!-- Descrição -->
        <div class="form-row">
          <div class="form-group full-width">
            <label for="descricao">Descrição</label>
            <textarea id="descricao" formControlName="descricao" rows="4" placeholder="Conte um pouco sobre você..."></textarea>
          </div>
        </div>

        <!-- Endereço: CEP -->
        <div class="form-row">
          <div class="form-group">
            <label for="cep">CEP</label>
            <input
              type="text"
              id="cep"
              formControlName="cep"
              (blur)="buscarEnderecoPorCep()"
              maxlength="8"
              placeholder="Digite o CEP"
            />
          </div>
        </div>

        <!-- Rua e Número -->
        <div class="form-row">
          <div class="form-group">
            <label for="rua">Rua</label>
            <input type="text" id="rua" formControlName="rua" placeholder="Nome da Rua" required />
          </div>
          <div class="form-group">
            <label for="numero">Número</label>
            <input type="text" id="numero" formControlName="numero" placeholder="Número da residência" />
          </div>
        </div>

        <!-- Cidade e Estado -->
        <div class="form-row">
          <div class="form-group">
            <label for="cidade">Cidade</label>
            <input type="text" id="cidade" formControlName="cidade" readonly />
          </div>
          <div class="form-group">
            <label for="estado">Estado</label>
            <input type="text" id="estado" formControlName="estado" readonly />
          </div>
        </div>

        <!-- Características -->
        <div class="form-group">
          <label>Suas Características</label>
          <div class="checkbox-group" formArrayName="caracteristicas">
            <div *ngFor="let caracteristica of caracteristicasDisponiveis; let i = index">
              <label class="checkbox-label">
                <input type="checkbox" [formControlName]="i" />
                {{ caracteristica.nome }}
              </label>
            </div>
          </div>
        </div>

        <!-- Portes Aceitos -->
        <div class="form-group">
          <label>Portes aceitos</label>
          <div class="checkbox-group" formArrayName="portes">
            <div *ngFor="let porte of portesDisponiveis; let j = index">
              <label class="checkbox-label">
                <input type="checkbox" [formControlName]="j" />
                {{ porte.nome }}
              </label>
            </div>
          </div>
        </div>

        <!-- Preço por Diária -->
        <div class="form-row">
          <div class="form-group">
            <label for="preco_diaria">Preço por Diária (R$)</label>
            <input type="number" id="preco_diaria" formControlName="preco_diaria" placeholder="Ex: 49.90" step="0.01" min="0" />
          </div>
        </div>

        <!-- Erro -->
        <div *ngIf="errorMessage" class="error-message">
          {{ errorMessage }}
        </div>

        <!-- Botão de Enviar -->
        <div class="submit-container">
          <button type="submit" class="submit-btn" [disabled]="cuidadorForm.invalid || isSubmitting">
            {{ isSubmitting ? 'Enviando...' : 'Finalizar Cadastro de Cuidador' }}
          </button>
        </div>
      </form>
    </div>
  </section>
</main>
